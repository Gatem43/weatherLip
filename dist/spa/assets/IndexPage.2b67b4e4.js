import{c as R,h as O,f as I,o as E}from"./dom.89948040.js";import{b as A}from"./scroll.f32ed624.js";import{x as i,w as L,a as V,o as D,h as C,l as K,u as M,v,c as N,z as j,B as U,g as J,_ as G,F as X,I as p,J as Y,K as B,L as Z,M as a,U as b,V as x,O as _}from"./index.2414cdeb.js";import{a as ee}from"./axios.66c02ff4.js";function Q(e){let s=!1,r,t;function c(){t=arguments,s!==!0&&(s=!0,r=requestAnimationFrame(()=>{e.apply(this,t),t=void 0,s=!1}))}return c.cancel=()=>{window.cancelAnimationFrame(r),s=!1},c}const{passive:k}=K;var te=R({name:"QParallax",props:{src:String,height:{type:Number,default:500},speed:{type:Number,default:1,validator:e=>e>=0&&e<=1},scrollTarget:{default:void 0},onScroll:Function},setup(e,{slots:s,emit:r}){const t=i(0),c=i(null),u=i(null),h=i(null);let n,l,g,f,m,o;L(()=>e.height,()=>{n===!0&&w()}),L(()=>e.scrollTarget,()=>{n===!0&&(T(),F())});let H=d=>{t.value=d,e.onScroll!==void 0&&r("scroll",d)};function w(){let d,y,$;o===window?(d=0,$=y=window.innerHeight):(d=E(o).top,y=I(o),$=d+y);const z=E(c.value).top,W=z+e.height;if(m!==void 0||W>d&&z<$){const q=($-z)/(e.height+y);P((g-e.height)*q*e.speed),H(q)}}let P=d=>{l.style.transform=`translate3d(-50%,${Math.round(d)}px,0)`};function S(){g=l.naturalHeight||l.videoHeight||I(l),n===!0&&w()}function F(){n=!0,o=A(c.value,e.scrollTarget),o.addEventListener("scroll",w,k),window.addEventListener("resize",f,k),w()}function T(){n===!0&&(n=!1,o.removeEventListener("scroll",w,k),window.removeEventListener("resize",f,k),o=void 0,P.cancel(),H.cancel(),f.cancel())}return V(()=>{P=Q(P),H=Q(H),f=Q(S),l=s.media!==void 0?u.value.children[0]:h.value,l.onload=l.onloadstart=l.loadedmetadata=S,S(),l.style.display="initial",window.IntersectionObserver!==void 0?(m=new IntersectionObserver(d=>{(d[0].isIntersecting===!0?F:T)()}),m.observe(c.value)):F()}),D(()=>{T(),m!==void 0&&m.disconnect(),l.onload=l.onloadstart=l.loadedmetadata=null}),()=>C("div",{ref:c,class:"q-parallax",style:{height:`${e.height}px`}},[C("div",{ref:u,class:"q-parallax__media absolute-full"},s.media!==void 0?s.media():[C("img",{ref:h,src:e.src})]),C("div",{class:"q-parallax__content absolute-full column flex-center"},s.content!==void 0?s.content({percentScrolled:t.value}):O(s.default))])}}),ae=R({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:s}){const{proxy:{$q:r}}=J(),t=M(j,v);if(t===v)return console.error("QPage needs to be a deep child of QLayout"),v;if(M(U,v)===v)return console.error("QPage needs to be child of QPageContainer"),v;const u=N(()=>{const n=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const l=t.isContainer.value===!0?t.containerHeight.value:r.screen.height;return e.styleFn(n,l)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-n+"px":r.screen.height===0?n!==0?`calc(100vh - ${n}px)`:"100vh":r.screen.height-n+"px"}}),h=N(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>C("main",{class:h.value,style:u.value},O(s.default))}});function se(){const e=i(0),s=i(0),r=i(0),t=i(0),c=i(0),u=i(""),h=i(0),n=i(0);return V(()=>{ee.get("https://api.openweathermap.org/data/2.5/weather?",{params:{appid:"37ee55811ec03c61317b2dc76e458f87",lang:"ru",lat:52.6031,lon:39.5708,units:"metric"}}).then(o=>(console.log(o.data),e.value=Math.round(o.data.main.temp),s.value=Math.round(o.data.main.feels_like),r.value=o.data.weather[0].id,t.value=o.data.main.humidity,c.value=o.data.sys.sunrise,h.value=o.data.clouds.all,n.value=o.data.main.sea_level));const g=i(""),f=i(""),m=i("");g.value=new Date((c.value+14400)*1e3),f.value=g.value.getHours(),m.value="0"+g.value.getSeconds(),u.value=f.value+":"+m.value.substr(-2)}),{temp:e,tempHuman:s,weather:r,humidity:t,formattedTime:u,clouds:h,sea:n}}const ne=X({name:"IndexPage",setup(e){const{temp:s,tempHuman:r,weather:t,humidity:c,formattedTime:u,clouds:h,sea:n}=se();return{temp:s,tempHuman:r,weather:t,humidity:c,formattedTime:u,clouds:h,sea:n}}}),oe=a("img",{src:"https://img.badfon.ru/wallpaper/big/4/1e/noch-doroga-dozhd-polosy-6763.jpg"},null,-1),le={class:"flex_element1"},ie={key:0,src:"https://svgsilh.com/svg/159508-ff9800.svg",class:"img_weath"},re={key:1,src:"https://svgsilh.com/svg/159507-607d8b.svg",class:"img_weath"},ce={key:2,src:"https://svgsilh.com/svg/98506-ffffff.svg",class:"img_weath"},de={key:3,src:"https://svgsilh.com/svg/558013-ffffff.svg",class:"img_weath"},ue={key:4,src:"https://svgsilh.com/svg/159946-ffffff.svg",class:"img_weath"},he={class:"temp_text"},me={class:"human_text"},fe={class:"flex_element2"},ge={class:"flex_element3"},ve=a("img",{src:"https://svgsilh.com/svg/2423612-2196f3.svg",class:"img_footer"},null,-1),pe=a("span",null,"\u0412\u043B\u0430\u0436\u043D\u043E\u0441\u0442\u044C",-1),_e={class:"flex_element3"},we=a("img",{src:"https://svgsilh.com/svg/159508-ff9800.svg",class:"img_footer"},null,-1),ye=a("span",null,"\u0420\u0430\u0441\u0441\u0432\u0435\u0442",-1),be={class:"flex_element3"},xe=a("img",{src:"https://svgsilh.com/svg/159946-ffffff.svg",class:"img_footer"},null,-1),Ce=a("span",null,"\u041E\u0431\u043B\u0430\u0447\u043D\u043E\u0441\u0442\u044C",-1),He={class:"flex_element3"},Pe=a("img",{src:"https://cdn-icons-png.flaticon.com/512/2622/2622352.png",class:"img_footer"},null,-1),$e=a("span",null,"\u0410\u0442\u043C.\u0434\u0430\u0432\u043B\u0435\u043D\u0438\u0435",-1);function ke(e,s,r,t,c,u){return p(),Y(ae,{class:"flex text-white"},{default:B(()=>[Z(te,{height:400,speed:.5},{media:B(()=>[oe]),default:B(()=>[a("div",le,[e.weather==800?(p(),b("img",ie)):x("",!0),e.weather>=200&&e.weather<=232?(p(),b("img",re)):x("",!0),e.weather>=300&&e.weather<=531?(p(),b("img",ce)):x("",!0),e.weather>=600&&e.weather<=622?(p(),b("img",de)):x("",!0),e.weather>=801&&e.weather<=804?(p(),b("img",ue)):x("",!0),a("span",he,_(e.temp)+" \xB0C",1),a("span",me,"\u041E\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044F: "+_(e.tempHuman)+" \xB0C",1)])]),_:1}),a("div",fe,[a("div",ge,[ve,pe,a("span",null,_(e.humidity)+"%",1)]),a("div",_e,[we,ye,a("span",null,_(e.formattedTime),1)]),a("div",be,[xe,Ce,a("span",null,_(e.clouds)+"%",1)]),a("div",He,[Pe,$e,a("span",null,_(e.sea*.75)+" \u043C\u0420\u0441",1)])])]),_:1})}var Be=G(ne,[["render",ke]]);export{Be as default};
